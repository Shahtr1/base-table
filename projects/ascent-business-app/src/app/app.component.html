<lib-base-table
  [inputOptions]="tableInputOptions"
  [tableId]="'t-client-accounts'"
  [size]="'small'"
  [rowsPerPage]="8"
  [rowExpansionTemplate]="rowExpansionTemplate"
  [(selectedItems)]="selectedAccountPurposes"
  (onTableRowSelect)="onRowSelect($event)"
  (onTableRowUnselect)="onRowUnselect($event)"
>
  <!--  <ng-container ngProjectAs="caption">Nice Toolbar</ng-container>-->
  <ng-container ngProjectAs="summary">
    <div class="flex align-items-center justify-content-between">
      Custom summary
    </div>
  </ng-container>
</lib-base-table>

<ng-template #rowExpansionTemplate let-item>
  <tr>
    <td colspan="10">
      <div class="p-3">
        <p-table [value]="item.subProducts" dataKey="code">
          <ng-template pTemplate="header">
            <tr>
              <th width="50%">Code</th>
              <th width="50%">Sub category</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-subProduct>
            <tr>
              <td>{{ subProduct.code }}</td>
              <td>{{ subProduct.category }}</td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="2" style="text-align: center">
                There are no sub-products.
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </td>
  </tr>
</ng-template>

{{ selectedAccountPurposes | json }}
